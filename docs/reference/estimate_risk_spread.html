<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Travel-related disease cases spreaded to other locations from an infectious
location — estimate_risk_spread • epiflows</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Travel-related disease cases spreaded to other locations from an infectious
location — estimate_risk_spread" />

<meta property="og:description" content="Calculates the mean and 95
disease cases that could potentially seed a disease outbreak in the locations
they are travelling to, comprising exportations (infected residents of the infectious
location travelling abroad during the incubation or infectious period), and
importations (international tourists infected by the disease during
their stay in the infectious location and returning to their home location).
The mean and 95
n_sim times from the incubation and infectious period distributions.
If parameter return_all_simulations is set to TRUE, the function returns all simulations
for each location." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epiflows</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/epiflows-class.html">01 Data Preparation</a>
    </li>
    <li>
      <a href="../articles/introduction.html">00 epiflows: package overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/epiflows">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Travel-related disease cases spreaded to other locations from an infectious
location</h1>
    
    <div class="hidden name"><code>estimate_risk_spread.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Calculates the mean and 95<!-- % confidence interval of the estimated number of -->
disease cases that could potentially seed a disease outbreak in the locations
they are travelling to, comprising exportations (infected residents of the infectious
location travelling abroad during the incubation or infectious period), and
importations (international tourists infected by the disease during
their stay in the infectious location and returning to their home location).
The mean and 95<!-- % confidence intervals are obtained by numerically sampling -->
<code>n_sim</code> times from the incubation and infectious period distributions.
If parameter <code>return_all_simulations</code> is set to <code>TRUE</code>, the function returns all simulations
for each location.</p>
    
    </div>

    <pre class="usage"><span class='fu'>estimate_risk_spread</span>(<span class='no'>...</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>estimate_risk_spread</span>(<span class='kw'>location_code</span> <span class='kw'>=</span> <span class='fu'>character</span>(<span class='fl'>0</span>),
  <span class='kw'>location_population</span> <span class='kw'>=</span> <span class='fu'>numeric</span>(<span class='fl'>0</span>), <span class='kw'>num_cases_time_window</span> <span class='kw'>=</span> <span class='fu'>numeric</span>(<span class='fl'>0</span>),
  <span class='kw'>first_date_cases</span> <span class='kw'>=</span> <span class='fu'>character</span>(<span class='fl'>0</span>), <span class='kw'>last_date_cases</span> <span class='kw'>=</span> <span class='fu'>character</span>(<span class='fl'>0</span>),
  <span class='kw'>num_travellers_to_other_locations</span> <span class='kw'>=</span> <span class='fu'>numeric</span>(<span class='fl'>0</span>),
  <span class='kw'>num_travellers_from_other_locations</span> <span class='kw'>=</span> <span class='fu'>numeric</span>(<span class='fl'>0</span>),
  <span class='kw'>avg_length_stay_days</span> <span class='kw'>=</span> <span class='fu'>numeric</span>(<span class='fl'>0</span>), <span class='kw'>r_incubation</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>n</span>) { },
  <span class='kw'>r_infectious</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>n</span>) { }, <span class='kw'>n_sim</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>return_all_simulations</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for epiflows</span>
<span class='fu'>estimate_risk_spread</span>(<span class='no'>x</span>, <span class='kw'>location_code</span> <span class='kw'>=</span> <span class='fu'>character</span>(<span class='fl'>0</span>),
  <span class='kw'>r_incubation</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>n</span>) { }, <span class='kw'>r_infectious</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>n</span>) { },
  <span class='kw'>n_sim</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>return_all_simulations</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Arguments passed onto the default method.</p></td>
    </tr>
    <tr>
      <th>location_code</th>
      <td><p>a character string denoting the infectious location code</p></td>
    </tr>
    <tr>
      <th>location_population</th>
      <td><p>population of the infectious location</p></td>
    </tr>
    <tr>
      <th>num_cases_time_window</th>
      <td><p>cumulative number of cases in infectious
location in time window</p></td>
    </tr>
    <tr>
      <th>first_date_cases</th>
      <td><p>string with the date of the first disease case in
infectious location ("YYYY-MM-DD")</p></td>
    </tr>
    <tr>
      <th>last_date_cases</th>
      <td><p>string with the date of the last disease case in
infectious location ("YYYY-MM-DD")</p></td>
    </tr>
    <tr>
      <th>num_travellers_to_other_locations</th>
      <td><p>number of travellers from the
infectious location visiting other locations (T_D)</p></td>
    </tr>
    <tr>
      <th>num_travellers_from_other_locations</th>
      <td><p>number of travellers from other
locations visiting the infectious location (T_O)</p></td>
    </tr>
    <tr>
      <th>avg_length_stay_days</th>
      <td><p>average length of stay in days of travellers from
other locations visiting the infectious location. This can be a common
number for all locations or a vector with different numbers for each
location</p></td>
    </tr>
    <tr>
      <th>r_incubation</th>
      <td><p>a function with a single argument <code>n</code>
generating 'n' random incubation periods</p></td>
    </tr>
    <tr>
      <th>r_infectious</th>
      <td><p>a function with a single argument <code>n</code>
generating 'n' random durations of infectious period</p></td>
    </tr>
    <tr>
      <th>n_sim</th>
      <td><p>number of simulations from the incubation and
infectious distributions</p></td>
    </tr>
    <tr>
      <th>return_all_simulations</th>
      <td><p>logical value indicating whether the returned object is a data frame with all simulations
(<code>return_all_simulations = TRUE</code>) or a data frame with the mean and lower and upper limits of a 95<!-- % confidence interval of -->
the number of cases spread to each location (<code>return_all_simulations = FALSE</code>)</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>an epiflows object</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>if <code>return_all_simulations</code> is <code>TRUE</code>, data frame with all simulations. If <code>return_all_simulations</code> is <code>FALSE</code>,
data frame with the mean and lower and upper limits of a 95<!-- % confidence interval of the number -->
of cases spread to each location</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Dorigatti I, Hamlet A, Aguas R, Cattarino L, Cori A, Donnelly CA,
Garske T, Imai N, Ferguson NM. International risk of yellow fever spread from
the ongoing outbreak in Brazil, December 2016 to May 2017. Euro Surveill.
2017;22(28):pii=30572. DOI: <a href='http://dx.doi.org/10.2807/1560-7917.ES.2017.22.28.30572'>10.2807/1560-7917.ES.2017.22.28.30572</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Construction of epiflows object: <code><a href='make_epiflows.html'>make_epiflows()</a></code><br />
Default variables used in the epiflows implementation: <code><a href='global_vars.html'>global_vars()</a></code><br />
Access metadata from the epiflows object: <code><a href='get_vars.html'>get_vars()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Using an epiflows object --------------------------------</span>

<span class='fu'>data</span>(<span class='st'>"YF_flows"</span>)
<span class='fu'>data</span>(<span class='st'>"YF_locations"</span>)
<span class='no'>ef</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='make_epiflows.html'>make_epiflows</a></span>(<span class='kw'>flows</span>         <span class='kw'>=</span> <span class='no'>YF_flows</span>,
                    <span class='kw'>locations</span>     <span class='kw'>=</span> <span class='no'>YF_locations</span>,
                    <span class='kw'>pop_size</span>      <span class='kw'>=</span> <span class='st'>"location_population"</span>,
                    <span class='kw'>duration_stay</span> <span class='kw'>=</span> <span class='st'>"length_of_stay"</span>,
                    <span class='kw'>num_cases</span>     <span class='kw'>=</span> <span class='st'>"num_cases_time_window"</span>,
                    <span class='kw'>first_date</span>    <span class='kw'>=</span> <span class='st'>"first_date_cases"</span>,
                    <span class='kw'>last_date</span>     <span class='kw'>=</span> <span class='st'>"last_date_cases"</span>
)
<span class='co'>## functions generating incubation and infectious periods</span>
<span class='no'>incubation</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>n</span>) {
  <span class='fu'>rlnorm</span>(<span class='no'>n</span>, <span class='fl'>1.46</span>, <span class='fl'>0.35</span>)
}

<span class='no'>infectious</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>n</span>) {
  <span class='fu'>rnorm</span>(<span class='no'>n</span>, <span class='fl'>4.5</span>, <span class='fl'>1.5</span>/<span class='fl'>1.96</span>)
}

<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>estimate_risk_spread</span>(<span class='no'>ef</span>,
                            <span class='kw'>location_code</span>          <span class='kw'>=</span> <span class='st'>"Espirito Santo"</span>,
                            <span class='kw'>r_incubation</span>           <span class='kw'>=</span> <span class='no'>incubation</span>,
                            <span class='kw'>r_infectious</span>           <span class='kw'>=</span> <span class='no'>infectious</span>,
                            <span class='kw'>n_sim</span>                  <span class='kw'>=</span> <span class='fl'>1e5</span>,
                            <span class='kw'>return_all_simulations</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>Exportations done</span></div><div class='output co'>#&gt; <span class='message'>Importations done</span></div><div class='input'><span class='fu'>boxplot</span>(<span class='no'>res</span>, <span class='kw'>las</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='img'><img src='estimate_risk_spread-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## Using other data --------------------------------------------------</span>
<span class='fu'>data</span>(<span class='no'>YF_Brazil</span>)
<span class='no'>indstate</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span> <span class='co'># "Espirito Santo" (indstate = 1), </span>
              <span class='co'># "Minas Gerais" (indstate = 2), </span>
              <span class='co'># "Southeast Brazil" (indstate = 5)</span>

<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>estimate_risk_spread</span>(
  <span class='kw'>location_code</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>states</span>$<span class='no'>location_code</span>[<span class='no'>indstate</span>],
  <span class='kw'>location_population</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>states</span>$<span class='no'>location_population</span>[<span class='no'>indstate</span>],
  <span class='kw'>num_cases_time_window</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>states</span>$<span class='no'>num_cases_time_window</span>[<span class='no'>indstate</span>],
  <span class='kw'>first_date_cases</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>states</span>$<span class='no'>first_date_cases</span>[<span class='no'>indstate</span>],
  <span class='kw'>last_date_cases</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>states</span>$<span class='no'>last_date_cases</span>[<span class='no'>indstate</span>],
  <span class='kw'>num_travellers_to_other_locations</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>T_D</span>[<span class='no'>indstate</span>,],
  <span class='kw'>num_travellers_from_other_locations</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>T_O</span>[<span class='no'>indstate</span>,],
  <span class='kw'>avg_length_stay_days</span> <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>length_of_stay</span>,
  <span class='kw'>r_incubation</span> <span class='kw'>=</span> <span class='no'>incubation</span>,
  <span class='kw'>r_infectious</span> <span class='kw'>=</span> <span class='no'>infectious</span>,
  <span class='kw'>n_sim</span> <span class='kw'>=</span> <span class='fl'>100000</span>,
  <span class='kw'>return_all_simulations</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</div><div class='output co'>#&gt; <span class='message'>Exportations done</span></div><div class='output co'>#&gt; <span class='message'>Importations done</span></div><div class='input'><span class='fu'>head</span>(<span class='no'>res</span>)</div><div class='output co'>#&gt;                          mean_cases lower_limit_95CI upper_limit_95CI
#&gt; Italy                     0.2250508        0.1520792        0.3288085
#&gt; Spain                     0.2274901        0.1537276        0.3323725
#&gt; Portugal                  0.2316444        0.1565348        0.3384421
#&gt; Germany                   0.1863699        0.1259404        0.2722942
#&gt; United Kingdom            0.1768562        0.1195124        0.2583962
#&gt; United States of America  0.9251014        0.6251491        1.3516271</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Paula Moraga, Zhian Kamvar (epiflows class implementation)

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pawel Piatkowski, Paula Moraga, Thibaut Jombart, VP Nagraj, Zhian N. Kamvar, Salla E. Toikkanen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

