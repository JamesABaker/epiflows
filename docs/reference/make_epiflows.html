<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create an epiflows object — make_epiflows • epiflows</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Create an epiflows object — make_epiflows" />

<meta property="og:description" content="An epiflows object contains a pair of data frames that provide information
about locations and flows between locations." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epiflows</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/epiflows-class.html">01 Data Preparation</a>
    </li>
    <li>
      <a href="../articles/introduction.html">epiflows: package overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/epiflows">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an epiflows object</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/epiflows/blob/master/R/make_epiflows.R'><code>R/make_epiflows.R</code></a></small>
    <div class="hidden name"><code>make_epiflows.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>An epiflows object contains a pair of data frames that provide information
about locations and flows between locations.</p>
    
    </div>

    <pre class="usage"><span class='fu'>make_epiflows</span>(<span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>make_epiflows</span>(<span class='no'>flows</span>, <span class='kw'>locations</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
  <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>2L</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>3L</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for integer</span>
<span class='fu'>make_epiflows</span>(<span class='no'>inflow</span>, <span class='no'>outflow</span>, <span class='no'>focus</span>, <span class='no'>locations</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>make_epiflows</span>(<span class='no'>inflow</span>, <span class='no'>outflow</span>, <span class='no'>focus</span>, <span class='no'>locations</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1L</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Any number of varaibles that can be used for mapping or modelling.
See <code><a href='global_vars.html'>global_vars()</a></code> and <code><a href='get_vars.html'>get_vars()</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>flows</th>
      <td><p>a data frame where each row represents a flow from one location
to the next. This must have at least three columns:</p><ul>
<li><p>Where the flow started (as specified in <code>from</code>, below)</p></li>
<li><p>Where the flow ended (as specified in <code>to</code>, below)</p></li>
<li><p>How many cases were involved (as specified in <code>n</code>, below)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>locations</th>
      <td><p>a data frame where each row represents a location. This can
have any number of columns specifying useful metadata about the location,
but it must contain at least one column specifying the location ID used in
the <code>flows</code> data frame (as specified by the <code>id</code> argument, below).</p></td>
    </tr>
    <tr>
      <th>from</th>
      <td><p>the column in the <code>flows</code> data frame indicating where the flow
started. This can be an integer or character. Default is the first column.</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>the column in the <code>flows</code> data frame indicating where the flow
terminated. This can be an integer or character. Default is the second column.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>the column in the <code>flows</code> data frame indicating how many cases were
contained in the flow. This can be an integer or character. Default is the
third column.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>The column to use for the identifier in the <code>locations</code> data frame.
This defaults to the first column.</p></td>
    </tr>
    <tr>
      <th>inflow</th>
      <td><p>a <strong>named</strong> integer or numeric vector specifying the number of
cases flowing into a location specified by <code>focus</code>.</p></td>
    </tr>
    <tr>
      <th>outflow</th>
      <td><p>a <strong>named</strong> integer or numeric vector specifying the number of
cases flowing from a location specified by <code>focus</code>.</p></td>
    </tr>
    <tr>
      <th>focus</th>
      <td><p>a character vector specifying the focal location for integer
input. This is necessary for integer input to make clear what "outflow" and
"inflow" are relative to.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <code>epiflows</code> object in list format with four elements:</p><ul>
<li><p><strong>locations</strong> (accessible via <code><a href='get_locations.html'>get_locations()</a></code>): a data frame of
locations with first column 'id' containing character vector of unique
identifiers.</p></li>
<li><p><strong>flows</strong> (accessible via <code><a href='get_flows.html'>get_flows()</a></code>): data.frame of flows with first
two columns named 'from' and 'to' indicating directed flows between two
locations, and a third column named 'n', specifying the number of cases in
each</p></li>
<li><p><strong>vars</strong> (accessible via <code><a href='get_vars.html'>get_vars()</a></code>). This contains a named list of
available variables that can be used in further plotting and/or modelling.
Default variables are found in <code><a href='global_vars.html'>global_vars()</a></code>:</p><ul>
<li><p><code>coordinates</code>: two columns specifying the lon and lat coordinates</p></li>
<li><p><code>pop_size</code>: population size of each location</p></li>
<li><p><code>duration_stay</code>: the average duration of stay for each location</p></li>
<li><p><code>first_date</code>: the date of first recorded case</p></li>
<li><p><code>last_date</code>: the date of the last recorded case</p></li>
<li><p><code>num_cases</code>: the number of cases between the first and last date</p></li>
</ul></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>epiflows</code> object can be constructed using simply a list of locations with
optional metadata (similar to a linelist) and a list of flows that describes
the number of cases flowing from one location to another. Optional metadata
such as coordinates and duration of stay can be included in the linelist for
use in <code><a href='estimate_risk_spread.html'>estimate_risk_spread()</a></code> or <code><a href='map_epiflows.html'>map_epiflows()</a></code>.</p>
<h3>Developer note: object structure</h3>
    Because a flow of cases from one location to another can be thought of as a
contact with a wider scope, the <code>epiflows</code> object inherits from the
<code>epicontacts</code> object, constructed via <code><a href='http://www.rdocumentation.org/packages/epicontacts/topics/make_epicontacts'>epicontacts::make_epicontacts()</a></code>.
This means that all the methods for subsetting an object of class
<code>epicontacts</code> also applies to <code>epiflows</code>, including the use of the function
<code><a href='http://www.rdocumentation.org/packages/epicontacts/topics/thin'>epicontacts::thin()</a></code>. One caveat is that, internally, the names of the
elements within the object do not match the terminology used in <em>epiflows</em>.
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='global_vars.html'>global_vars()</a></code> for definitions of global variables,
<code><a href='estimate_risk_spread.html'>estimate_risk_spread()</a></code> for modelling, <code><a href='plot.epiflows.html'>plot.epiflows()</a></code> for plotting,
<code><a href='add_coordinates.html'>add_coordinates()</a></code> for adding coordinates, <code><a href='get_vars.html'>get_vars()</a></code> for accession of
metadata, <code><a href='get_locations.html'>get_locations()</a></code> to access the locations data frame,
<code><a href='get_flows.html'>get_flows()</a></code> to access the flows data frame.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Load data</span>
<span class='fu'>data</span>(<span class='no'>YF_flows</span>)
<span class='fu'>data</span>(<span class='no'>YF_locations</span>)
<span class='no'>YF_flows</span></div><div class='output co'>#&gt;                         from                       to          n
#&gt; 1             Espirito Santo                    Italy   2827.572
#&gt; 2               Minas Gerais                    Italy  15714.103
#&gt; 3             Rio de Janeiro                    Italy   8163.938
#&gt; 4                  Sao Paulo                    Italy  34038.681
#&gt; 5           Southeast Brazil                    Italy  76281.763
#&gt; 6             Espirito Santo                    Spain   3270.500
#&gt; 7               Minas Gerais                    Spain  18175.655
#&gt; 8             Rio de Janeiro                    Spain   9442.787
#&gt; 9                  Sao Paulo                    Spain  39370.707
#&gt; 10          Southeast Brazil                    Spain  88231.000
#&gt; 11            Espirito Santo                 Portugal   3264.182
#&gt; 12              Minas Gerais                 Portugal  18140.543
#&gt; 13            Rio de Janeiro                 Portugal   9424.545
#&gt; 14                 Sao Paulo                 Portugal  39294.650
#&gt; 15          Southeast Brazil                 Portugal  88060.554
#&gt; 16            Espirito Santo                  Germany   1897.668
#&gt; 17              Minas Gerais                  Germany  10546.202
#&gt; 18            Rio de Janeiro                  Germany   5479.062
#&gt; 19                 Sao Paulo                  Germany  22844.371
#&gt; 20          Southeast Brazil                  Germany  51194.959
#&gt; 21            Espirito Santo           United Kingdom   1985.482
#&gt; 22              Minas Gerais           United Kingdom  11034.228
#&gt; 23            Rio de Janeiro           United Kingdom   5732.606
#&gt; 24                 Sao Paulo           United Kingdom  23901.496
#&gt; 25          Southeast Brazil           United Kingdom  53564.010
#&gt; 26            Espirito Santo United States of America  13597.386
#&gt; 27              Minas Gerais United States of America  75566.853
#&gt; 28            Rio de Janeiro United States of America  39259.202
#&gt; 29                 Sao Paulo United States of America 163687.109
#&gt; 30          Southeast Brazil United States of America 366827.995
#&gt; 31            Espirito Santo                Argentina   5898.905
#&gt; 32              Minas Gerais                Argentina  32782.895
#&gt; 33            Rio de Janeiro                Argentina  17031.678
#&gt; 34                 Sao Paulo                Argentina  71011.787
#&gt; 35          Southeast Brazil                Argentina 159139.665
#&gt; 36            Espirito Santo                    Chile   2794.168
#&gt; 37              Minas Gerais                    Chile  15528.462
#&gt; 38            Rio de Janeiro                    Chile   8067.493
#&gt; 39                 Sao Paulo                    Chile  33636.561
#&gt; 40          Southeast Brazil                    Chile  75380.598
#&gt; 41            Espirito Santo                  Uruguay   2629.526
#&gt; 42              Minas Gerais                  Uruguay  14613.472
#&gt; 43            Rio de Janeiro                  Uruguay   7592.129
#&gt; 44                 Sao Paulo                  Uruguay  31654.581
#&gt; 45          Southeast Brazil                  Uruguay  70938.918
#&gt; 46            Espirito Santo                 Paraguay   1164.344
#&gt; 47              Minas Gerais                 Paraguay   6470.791
#&gt; 48            Rio de Janeiro                 Paraguay   3361.766
#&gt; 49                 Sao Paulo                 Paraguay  14016.531
#&gt; 50          Southeast Brazil                 Paraguay  31411.489
#&gt; 51                     Italy           Espirito Santo   1566.257
#&gt; 52                     Spain           Espirito Santo   1170.954
#&gt; 53                  Portugal           Espirito Santo   1258.379
#&gt; 54                   Germany           Espirito Santo   1740.967
#&gt; 55            United Kingdom           Espirito Santo   1467.435
#&gt; 56  United States of America           Espirito Santo   4464.246
#&gt; 57                 Argentina           Espirito Santo  16125.229
#&gt; 58                     Chile           Espirito Santo   2375.037
#&gt; 59                   Uruguay           Espirito Santo   2072.586
#&gt; 60                  Paraguay           Espirito Santo   2340.148
#&gt; 61                     Italy             Minas Gerais   9196.588
#&gt; 62                     Spain             Minas Gerais   6875.487
#&gt; 63                  Portugal             Minas Gerais   7388.819
#&gt; 64                   Germany             Minas Gerais  10222.433
#&gt; 65            United Kingdom             Minas Gerais   8616.336
#&gt; 66  United States of America             Minas Gerais  26212.701
#&gt; 67                 Argentina             Minas Gerais  94682.455
#&gt; 68                     Chile             Minas Gerais  13945.500
#&gt; 69                   Uruguay             Minas Gerais  12169.597
#&gt; 70                  Paraguay             Minas Gerais  13740.640
#&gt; 71                     Italy           Rio de Janeiro   4812.885
#&gt; 72                     Spain           Rio de Janeiro   3598.175
#&gt; 73                  Portugal           Rio de Janeiro   3866.818
#&gt; 74                   Germany           Rio de Janeiro   5349.744
#&gt; 75            United Kingdom           Rio de Janeiro   4509.219
#&gt; 76  United States of America           Rio de Janeiro  13717.991
#&gt; 77                 Argentina           Rio de Janeiro  49550.524
#&gt; 78                     Chile           Rio de Janeiro   7298.151
#&gt; 79                   Uruguay           Rio de Janeiro   6368.761
#&gt; 80                  Paraguay           Rio de Janeiro   7190.941
#&gt; 81                     Italy                Sao Paulo  19950.571
#&gt; 82                     Spain                Sao Paulo  14915.302
#&gt; 83                  Portugal                Sao Paulo  16028.896
#&gt; 84                   Germany                Sao Paulo  22175.981
#&gt; 85            United Kingdom                Sao Paulo  18691.803
#&gt; 86  United States of America                Sao Paulo  56864.386
#&gt; 87                 Argentina                Sao Paulo 205398.888
#&gt; 88                     Chile                Sao Paulo  30252.597
#&gt; 89                   Uruguay                Sao Paulo  26400.052
#&gt; 90                  Paraguay                Sao Paulo  29808.186
#&gt; 91                     Italy         Southeast Brazil  41998.783
#&gt; 92                     Spain         Southeast Brazil  31398.827
#&gt; 93                  Portugal         Southeast Brazil  33743.100
#&gt; 94                   Germany         Southeast Brazil  46683.586
#&gt; 95            United Kingdom         Southeast Brazil  39348.898
#&gt; 96  United States of America         Southeast Brazil 119707.601
#&gt; 97                 Argentina         Southeast Brazil 432393.802
#&gt; 98                     Chile         Southeast Brazil  63686.009
#&gt; 99                   Uruguay         Southeast Brazil  55575.856
#&gt; 100                 Paraguay         Southeast Brazil  62750.462</div><div class='input'><span class='no'>YF_locations</span></div><div class='output co'>#&gt;               location_code location_population num_cases_time_window
#&gt; 1            Espirito Santo             3973697                  2600
#&gt; 2              Minas Gerais            20997560                  4870
#&gt; 3            Rio de Janeiro            16635996                   170
#&gt; 4                 Sao Paulo            44749699                   200
#&gt; 5          Southeast Brazil            86356952                  7840
#&gt; 6                 Argentina                  NA                    NA
#&gt; 7                     Chile                  NA                    NA
#&gt; 8                   Germany                  NA                    NA
#&gt; 9                     Italy                  NA                    NA
#&gt; 10                 Paraguay                  NA                    NA
#&gt; 11                 Portugal                  NA                    NA
#&gt; 12                    Spain                  NA                    NA
#&gt; 13           United Kingdom                  NA                    NA
#&gt; 14 United States of America                  NA                    NA
#&gt; 15                  Uruguay                  NA                    NA
#&gt;    first_date_cases last_date_cases length_of_stay
#&gt; 1        2017-01-04      2017-04-30             NA
#&gt; 2        2016-12-19      2017-04-20             NA
#&gt; 3        2017-02-19      2017-05-10             NA
#&gt; 4        2016-12-17      2017-04-20             NA
#&gt; 5        2016-12-17      2017-05-10             NA
#&gt; 6              &lt;NA&gt;            &lt;NA&gt;           10.9
#&gt; 7              &lt;NA&gt;            &lt;NA&gt;           10.3
#&gt; 8              &lt;NA&gt;            &lt;NA&gt;           22.3
#&gt; 9              &lt;NA&gt;            &lt;NA&gt;           30.1
#&gt; 10             &lt;NA&gt;            &lt;NA&gt;            7.3
#&gt; 11             &lt;NA&gt;            &lt;NA&gt;           27.2
#&gt; 12             &lt;NA&gt;            &lt;NA&gt;           27.2
#&gt; 13             &lt;NA&gt;            &lt;NA&gt;           19.5
#&gt; 14             &lt;NA&gt;            &lt;NA&gt;           18.5
#&gt; 15             &lt;NA&gt;            &lt;NA&gt;            8.0</div><div class='input'><span class='co'>## Use both to create the epiflows object.</span>
<span class='no'>ef</span> <span class='kw'>&lt;-</span> <span class='fu'>make_epiflows</span>(<span class='kw'>flows</span>         <span class='kw'>=</span> <span class='no'>YF_flows</span>,
                    <span class='kw'>locations</span>     <span class='kw'>=</span> <span class='no'>YF_locations</span>,
                    <span class='kw'>pop_size</span>      <span class='kw'>=</span> <span class='st'>"location_population"</span>,
                    <span class='kw'>duration_stay</span> <span class='kw'>=</span> <span class='st'>"length_of_stay"</span>,
                    <span class='kw'>num_cases</span>     <span class='kw'>=</span> <span class='st'>"num_cases_time_window"</span>,
                    <span class='kw'>first_date</span>    <span class='kw'>=</span> <span class='st'>"first_date_cases"</span>,
                    <span class='kw'>last_date</span>     <span class='kw'>=</span> <span class='st'>"last_date_cases"</span>
                   )
<span class='no'>ef</span></div><div class='output co'>#&gt; 
#&gt; /// Epidemiological Flows //
#&gt; 
#&gt;   // class: epiflows, epicontacts
#&gt;   // 15 locations; 100 flows; directed
#&gt;   // optional variables: pop_size, duration_stay, num_cases, first_date, last_date 
#&gt; 
#&gt;   // locations
#&gt; 
#&gt; # A tibble: 15 x 6
#&gt;    id    location_popula… num_cases_time_… first_date_cases last_date_cases
#&gt;  * &lt;chr&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;fct&gt;            &lt;fct&gt;          
#&gt;  1 Espi…          3973697             2600 2017-01-04       2017-04-30     
#&gt;  2 Mina…         20997560             4870 2016-12-19       2017-04-20     
#&gt;  3 Rio …         16635996              170 2017-02-19       2017-05-10     
#&gt;  4 Sao …         44749699              200 2016-12-17       2017-04-20     
#&gt;  5 Sout…         86356952             7840 2016-12-17       2017-05-10     
#&gt;  6 Arge…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  7 Chile               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  8 Germ…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  9 Italy               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 10 Para…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 11 Port…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 12 Spain               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 13 Unit…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 14 Unit…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 15 Urug…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; # ... with 1 more variable: length_of_stay &lt;dbl&gt;
#&gt; 
#&gt;   // flows
#&gt; 
#&gt; # A tibble: 100 x 3
#&gt;    from             to         n
#&gt;    &lt;chr&gt;            &lt;chr&gt;  &lt;dbl&gt;
#&gt;  1 Espirito Santo   Italy  2828.
#&gt;  2 Minas Gerais     Italy 15714.
#&gt;  3 Rio de Janeiro   Italy  8164.
#&gt;  4 Sao Paulo        Italy 34039.
#&gt;  5 Southeast Brazil Italy 76282.
#&gt;  6 Espirito Santo   Spain  3270.
#&gt;  7 Minas Gerais     Spain 18176.
#&gt;  8 Rio de Janeiro   Spain  9443.
#&gt;  9 Sao Paulo        Spain 39371.
#&gt; 10 Southeast Brazil Spain 88231.
#&gt; # ... with 90 more rows
#&gt; </div><div class='input'><span class='co'># Access variable information</span>
<span class='fu'><a href='get_pop_size.html'>get_pop_size</a></span>(<span class='no'>ef</span>)</div><div class='output co'>#&gt;           Espirito Santo             Minas Gerais           Rio de Janeiro 
#&gt;                  3973697                 20997560                 16635996 
#&gt;                Sao Paulo         Southeast Brazil                Argentina 
#&gt;                 44749699                 86356952                       NA 
#&gt;                    Chile                  Germany                    Italy 
#&gt;                       NA                       NA                       NA 
#&gt;                 Paraguay                 Portugal                    Spain 
#&gt;                       NA                       NA                       NA 
#&gt;           United Kingdom United States of America                  Uruguay 
#&gt;                       NA                       NA                       NA </div><div class='input'><span class='fu'><a href='get_vars.html'>get_vars</a></span>(<span class='no'>ef</span>, <span class='st'>"duration_stay"</span>)</div><div class='output co'>#&gt;                          id length_of_stay
#&gt; 1            Espirito Santo             NA
#&gt; 2              Minas Gerais             NA
#&gt; 3            Rio de Janeiro             NA
#&gt; 4                 Sao Paulo             NA
#&gt; 5          Southeast Brazil             NA
#&gt; 6                 Argentina           10.9
#&gt; 7                     Chile           10.3
#&gt; 8                   Germany           22.3
#&gt; 9                     Italy           30.1
#&gt; 10                 Paraguay            7.3
#&gt; 11                 Portugal           27.2
#&gt; 12                    Spain           27.2
#&gt; 13           United Kingdom           19.5
#&gt; 14 United States of America           18.5
#&gt; 15                  Uruguay            8.0</div><div class='input'><span class='fu'><a href='get_vars.html'>get_vars</a></span>(<span class='no'>ef</span>, <span class='st'>"num_cases"</span>)</div><div class='output co'>#&gt;                          id num_cases_time_window
#&gt; 1            Espirito Santo                  2600
#&gt; 2              Minas Gerais                  4870
#&gt; 3            Rio de Janeiro                   170
#&gt; 4                 Sao Paulo                   200
#&gt; 5          Southeast Brazil                  7840
#&gt; 6                 Argentina                    NA
#&gt; 7                     Chile                    NA
#&gt; 8                   Germany                    NA
#&gt; 9                     Italy                    NA
#&gt; 10                 Paraguay                    NA
#&gt; 11                 Portugal                    NA
#&gt; 12                    Spain                    NA
#&gt; 13           United Kingdom                    NA
#&gt; 14 United States of America                    NA
#&gt; 15                  Uruguay                    NA</div><div class='input'><span class='fu'>data</span>(<span class='no'>YF_Brazil</span>)
(<span class='no'>inflows</span>   <span class='kw'>&lt;-</span> <span class='no'>YF_Brazil</span>$<span class='no'>T_O</span>[<span class='st'>"Espirito Santo"</span>, , <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>])</div><div class='output co'>#&gt;                    Italy                    Spain                 Portugal 
#&gt;                 1566.257                 1170.954                 1258.379 
#&gt;                  Germany           United Kingdom United States of America 
#&gt;                 1740.967                 1467.435                 4464.246 
#&gt;                Argentina                    Chile                  Uruguay 
#&gt;                16125.229                 2375.037                 2072.586 
#&gt;                 Paraguay 
#&gt;                 2340.148 </div><div class='input'>(<span class='no'>outflows</span>  <span class='kw'>&lt;-</span> <span class='no'>YF_Brazil</span>$<span class='no'>T_D</span>[<span class='st'>"Espirito Santo"</span>, , <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>])</div><div class='output co'>#&gt;                    Italy                    Spain                 Portugal 
#&gt;                 2827.572                 3270.500                 3264.182 
#&gt;                  Germany           United Kingdom United States of America 
#&gt;                 1897.668                 1985.482                13597.386 
#&gt;                Argentina                    Chile                  Uruguay 
#&gt;                 5898.905                 2794.168                 2629.526 
#&gt;                 Paraguay 
#&gt;                 1164.344 </div><div class='input'>(<span class='no'>locations</span> <span class='kw'>&lt;-</span> <span class='fu'>subset</span>(<span class='no'>YF_Brazil</span>$<span class='no'>states</span>, <span class='no'>location_code</span> <span class='kw'>==</span> <span class='st'>"Espirito Santo"</span>, <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))</div><div class='output co'>#&gt;                 location_code location_population num_cases_time_window
#&gt; Espirito Santo Espirito Santo             3973697                  2600
#&gt;                first_date_cases last_date_cases
#&gt; Espirito Santo       2017-01-04      2017-04-30</div><div class='input'><span class='no'>los</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>location_code</span>    <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>YF_Brazil</span>$<span class='no'>length_of_stay</span>),
                  <span class='kw'>length_of_stay</span>   <span class='kw'>=</span> <span class='no'>YF_Brazil</span>$<span class='no'>length_of_stay</span>,
                  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
                 )
<span class='no'>locations</span> <span class='kw'>&lt;-</span> <span class='fu'>merge</span>(<span class='kw'>x</span>   <span class='kw'>=</span> <span class='no'>locations</span>,
                   <span class='kw'>y</span>   <span class='kw'>=</span> <span class='no'>los</span>,
                   <span class='kw'>by</span>  <span class='kw'>=</span> <span class='st'>"location_code"</span>,
                   <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>ef</span> <span class='kw'>&lt;-</span> <span class='fu'>make_epiflows</span>(<span class='kw'>inflow</span> <span class='kw'>=</span> <span class='no'>inflows</span>,
                    <span class='kw'>outflow</span> <span class='kw'>=</span> <span class='no'>outflows</span>,
                    <span class='kw'>focus</span> <span class='kw'>=</span> <span class='st'>"Espirito Santo"</span>,
                    <span class='kw'>locations</span> <span class='kw'>=</span> <span class='no'>locations</span>,
                    <span class='kw'>pop_size</span> <span class='kw'>=</span> <span class='st'>"location_population"</span>,
                    <span class='kw'>duration_stay</span> <span class='kw'>=</span> <span class='st'>"length_of_stay"</span>,
                    <span class='kw'>num_cases</span> <span class='kw'>=</span> <span class='st'>"num_cases_time_window"</span>,
                    <span class='kw'>first_date</span> <span class='kw'>=</span> <span class='st'>"first_date_cases"</span>,
                    <span class='kw'>last_date</span> <span class='kw'>=</span> <span class='st'>"last_date_cases"</span>
                   )
<span class='no'>ef</span></div><div class='output co'>#&gt; 
#&gt; /// Epidemiological Flows //
#&gt; 
#&gt;   // class: epiflows, epicontacts
#&gt;   // 11 locations; 20 flows; directed
#&gt;   // optional variables: pop_size, duration_stay, num_cases, first_date, last_date 
#&gt; 
#&gt;   // locations
#&gt; 
#&gt; # A tibble: 11 x 6
#&gt;    id    location_popula… num_cases_time_… first_date_cases last_date_cases
#&gt;  * &lt;chr&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;fct&gt;            &lt;fct&gt;          
#&gt;  1 Espi…          3973697             2600 2017-01-04       2017-04-30     
#&gt;  2 Italy               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  3 Spain               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  4 Port…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  5 Germ…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  6 Unit…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  7 Unit…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  8 Arge…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt;  9 Chile               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 10 Urug…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; 11 Para…               NA               NA &lt;NA&gt;             &lt;NA&gt;           
#&gt; # ... with 1 more variable: length_of_stay &lt;dbl&gt;
#&gt; 
#&gt;   // flows
#&gt; 
#&gt; # A tibble: 20 x 3
#&gt;    from                     to                            n
#&gt;    &lt;chr&gt;                    &lt;chr&gt;                     &lt;dbl&gt;
#&gt;  1 Espirito Santo           Italy                     2828.
#&gt;  2 Espirito Santo           Spain                     3270.
#&gt;  3 Espirito Santo           Portugal                  3264.
#&gt;  4 Espirito Santo           Germany                   1898.
#&gt;  5 Espirito Santo           United Kingdom            1985.
#&gt;  6 Espirito Santo           United States of America 13597.
#&gt;  7 Espirito Santo           Argentina                 5899.
#&gt;  8 Espirito Santo           Chile                     2794.
#&gt;  9 Espirito Santo           Uruguay                   2630.
#&gt; 10 Espirito Santo           Paraguay                  1164.
#&gt; 11 Italy                    Espirito Santo            1566.
#&gt; 12 Spain                    Espirito Santo            1171.
#&gt; 13 Portugal                 Espirito Santo            1258.
#&gt; 14 Germany                  Espirito Santo            1741.
#&gt; 15 United Kingdom           Espirito Santo            1467.
#&gt; 16 United States of America Espirito Santo            4464.
#&gt; 17 Argentina                Espirito Santo           16125.
#&gt; 18 Chile                    Espirito Santo            2375.
#&gt; 19 Uruguay                  Espirito Santo            2073.
#&gt; 20 Paraguay                 Espirito Santo            2340.
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Zhian Kamvar, Thibaut Jombart

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Pawel Piatkowski, Paula Moraga, Isobel Blake, Thibaut Jombart, VP Nagraj, Zhian N. Kamvar, Salla E. Toikkanen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

